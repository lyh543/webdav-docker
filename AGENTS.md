# AGENTS项目说明文档（LLM理解专用）
## 一、项目核心定位
### 1. 项目目标
本项目是基于 Nginx 构建的轻量级 WebDAV 服务器 Docker 容器，核心目标是提供可灵活配置运行用户/组 ID 的 WebDAV 服务，兼具轻量性、可定制性与易验证性，满足对文件存储/访问的轻量化 WebDAV 服务需求，同时支持开发者快速验证代码修改后的功能有效性。
### 2. 应用场景
- 轻量化文件共享场景：需快速部署 WebDAV 服务、且对运行权限（用户/组 ID）有精准控制的小型团队/个人场景；
- 开发测试场景：开发者修改 WebDAV 相关代码后，可快速构建临时镜像验证核心功能，降低本地调试复杂度；
- 容器化部署场景：依赖 Docker 快速交付、隔离运行环境的 WebDAV 服务部署场景。
### 3. 目标用户/使用者
核心为需要部署/定制轻量级 WebDAV 服务的开发者、运维人员，以及需快速验证 WebDAV 功能有效性的研发人员；用户核心诉求是“轻量部署+权限可控+快速验证”。

## 二、项目核心架构
### 1. 整体架构模式
采用“单容器封装”架构，将 Nginx 及 WebDAV 相关配置、运行权限控制逻辑全部封装在 Docker 容器中，无外部依赖（仅需 Docker 环境），优势是部署零配置、运行环境隔离、权限可精准定制。
### 2. 核心模块及职责
- Nginx 基础模块：提供 WebDAV 服务的核心网络能力，兼容标准 WebDAV 协议；
- 权限控制模块：支持指定运行用户 ID（UID）和组 ID（GID），确保容器内 WebDAV 服务的运行权限符合部署环境要求；
- 测试验证模块：通过 `tests/test_webdav.py` 脚本实现临时镜像构建与 WebDAV 功能自动化验证，覆盖代码修改后的核心功能校验（如文件上传/下载、权限匹配等）。

## 三、核心操作说明
### 1. 代码修改后验证流程
执行 `tests/test_webdav.py` 脚本，该脚本会自动完成以下操作：
1. 基于修改后的代码构建临时 Docker 镜像；
2. 启动临时容器并初始化 WebDAV 服务；
3. 自动化校验 WebDAV 核心功能（协议兼容性、文件操作、权限匹配等）；
4. 输出验证结果（成功/失败）及异常信息（若有）。

### 2. 关键配置说明
- 运行用户/组 ID 配置：可在容器启动时指定 UID/GID 参数，覆盖默认运行权限；
- Nginx 配置：内置轻量级 WebDAV 专用配置，无需额外修改，若需定制可直接修改容器内 Nginx 配置文件后重新构建镜像。

## 四、核心特性总结
1. 轻量性：基于 Nginx 构建，容器体积小、资源占用低，无冗余依赖；
2. 权限可控：支持精准指定运行用户/组 ID，适配不同部署环境的权限要求；
3. 易验证：内置测试脚本，代码修改后可快速构建临时镜像验证功能，降低调试成本；
4. 容器化交付：全量功能封装在 Docker 容器中，部署/迁移无环境依赖问题。